# Pre-warmed Docker image for flight booking agent
# Extends the base agent with pre-downloaded Maven dependencies for faster builds

FROM flight-booking-agent:latest

# Copy the entire project context (respecting .dockerignore) to the image
# This is necessary for the 'verify' phase to access source code for compilation
COPY . .

# This single, robust command resolves all project and plugin dependencies
# by running the 'verify' phase but tells Maven to never fail the build.
# This ensures the cache is fully populated without being brittle.
RUN mvn -B verify --fail-never
